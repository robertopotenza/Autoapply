# Production Environment Configuration
# This file is loaded when NODE_ENV=production

# Node Environment
NODE_ENV=production

# PostgreSQL Database - Railway Production
# IMPORTANT: Use the internal Railway hostname for production
# Format: postgres://user:password@postgres.railway.internal:5432/railway
#
# On Railway, this is automatically set via the DATABASE_URL variable
# in your Railway project settings. You don't need to manually set it here
# unless you want to override Railway's default.
#
# The internal hostname provides:
# - Faster connections (internal network)
# - No egress charges
# - Better reliability
# - No DNS resolution issues
#
# Example (Railway will set this automatically):
# DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@postgres.railway.internal:5432/railway

# If Railway doesn't auto-inject DATABASE_URL, you can set individual params:
# PGHOST=postgres.railway.internal
# PGUSER=postgres
# PGPASSWORD=your_password_from_railway
# PGDATABASE=railway
# PGPORT=5432

# OpenAI API Key - Set in Railway environment variables
# OPENAI_API_KEY=sk-...

# JWT Secret - CRITICAL: Use a strong secret in production
# Set this in Railway environment variables for security
# JWT_SECRET=your-super-secret-production-jwt-key

# Server Configuration
# Railway automatically sets PORT
# PORT=3000

# Logging Configuration
LOG_LEVEL=info

# Database Pool Configuration (Production optimized)
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000
DB_QUERY_TIMEOUT=30000

# Scanning interval in hours
SCAN_INTERVAL_HOURS=2

# Automation mode: auto | review
AUTOMATION_MODE=review

# CORS Origin (set to your production domain)
# CORS_ORIGIN=https://your-app.railway.app

# Sentry Error Tracking (Recommended for production)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_TRACES_SAMPLE_RATE=1.0

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# IMPORTANT NOTES FOR RAILWAY DEPLOYMENT:
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#
# 1. Railway automatically injects DATABASE_URL with the internal hostname
#    You usually don't need to set it manually here.
#
# 2. Set sensitive values (JWT_SECRET, OPENAI_API_KEY, etc.) in Railway's
#    environment variables UI, not in this file.
#
# 3. This file is committed to git for documentation purposes.
#    Real secrets should be in Railway's environment variables.
#
# 4. To verify your connection on Railway:
#    railway run node scripts/check-db-connection.js
#
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
